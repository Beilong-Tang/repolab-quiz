<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    {% comment %} <meta name="viewport" content="width=device-width+100, initial-scale=2.0"> {% endcomment %}
    <meta name="description" content="">
    <meta name="author" content="Beilong Tang">
    <meta name="generator" content="Hugo 0.98.0">
    <title>Home Page</title>


{% load static %}
{% load my_tags%}

<link rel = "stylesheet" type ="text/css" href = "{% static 'quiz/bootstrap/css/bootstrap.min.css' %}">
<script type= "text/javascript" src = "{% static 'quiz/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<link rel = "stylesheet" type ="text/css" href = "{% static 'simple_judge/cover.css' %}">
<link rel = "stylesheet" type ="text/css" href = "{% static 'forum/sidebars.css' %}">
<script type= "text/javascript" src="{% static 'forum/sidebars.js' %}"></script>
<script type= "text/javascript"  src = "{% static 'quiz/function.js' %}"></script>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<script>function go(){var x = "{% url 'simple_judge:signout' %}";confirmation(x);}</script>
<style>
  @media screen and (max-width: 1280px) {
      .container {
          width: 1400px;
      }
  }

  div.scrollmenu {
    background-color: #333;
    overflow: auto;
    white-space: nowrap;
  }
  
  div.scrollmenu a {
    display: inline-block;
    color: white;
    text-align: center;
    padding: 14px;
    text-decoration: none;
  }
  
  div.scrollmenu a:hover {
    background-color: #777;
  }
</style>



<script>
  // forum post page url 

  function another(id){
    var forum_post_url = "{% url 'forum:forum_post' 1 0 0 filt %}"; 
    sidebar_length = parseInt($("#siding").scrollTop());
    to_forum_post(id,forum_post_url,sidebar_length);
  }

  
  function newpost(){
    var create_post_url = "{% url 'forum:create_post' filt %}";
    to_url(create_post_url);
  }

</script>



    <!-- Custom styles for this template -->
    {% comment %} <link href="cover.css" rel="stylesheet"> {% endcomment %}
  </head>
  <body class="d-flex h-100 text-center text-black bg-white">
    
    <div class="container-fluid d-flex w-100 h-100  mx-auto flex-column" style='width:1800px'>
      <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a  class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
          <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
          <button type="button" class="btn btn-primary btn-lg" style="margin-left:30px" onclick="newpost()">New Thread</button>
          <span class="fs-4" style='margin-left:30px'>CS201 Forum</span>
        </a>
  
  
        <ul class="nav nav-pills">
          <li class="nav-item"><a href="{% url 'quiz:userface' %}" class="nav-link " aria-current="page">Home</a></li>
        <li class="nav-item"><a href="{% url 'quiz:assignment'  %}" class="nav-link">Quizzes</a></li>
        <li class="nav-item"><a href="{% url 'quiz:account'  %}" class="nav-link">Account</a></li>
        <li class="nav-item"><a href="{% url 'forum:forum' 'a' %}" class="nav-link active">Forum</a></li>
        <li class="nav-item"><a href="#" class="nav-link" onclick="go()">Log out</a></li>
        </ul>
      </header>

    <main class="d-flex ">
      {% comment %} <div class="col-md-2" > {% endcomment %}
              <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-white" style="width: 320px;font-size:10px;margin-left:5px;" id ='sidebar'>
                
                
                    <div class='row'>
                      {% comment %} <div class='col-md-1'>
                        <button type="button" class="" style="height:18px;font-size:12px" onclick='increase()'>+</button>
                      </div> {% endcomment %}

                          <div class='col-md-12'>
                            <a class="nav-link dropdown-toggle " href="#" id="dropdown01" data-bs-toggle="dropdown" aria-expanded="false" style="background:grey">{{filt}}</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdown01">
                              <li><a class="dropdown-item" href="{%url 'forum:forum' 'All' %}">All</a></li>
                              <li><a class="dropdown-item" href="{%url 'forum:forum' 'Star' %}">Star</a></li>
                              <li><a class="dropdown-item" href="{%url 'forum:forum' 'Post' %}">Post</a></li>
                              <li><a class="dropdown-item" href="{%url 'forum:forum' 'FAQ' %}">FAQ</a></li>
                              <li><a class="dropdown-item" href="{%url 'forum:forum' 'Assignment' %}">Assignment</a></li>
                              <li><a class="dropdown-item" href="{%url 'forum:forum' 'Quiz' %}">Quiz</a></li>
                              <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                          </div>
                        
                      {% comment %} <div class='col-md-1'>
                        <button type="button" class="" style='height:18px;margin-left:-21px' onclick='decrease()'>-</button>
                      </div> {% endcomment %}


                    </div>



                <div class="list-group list-group-flush border-bottom scrollarea" style="overflow:auto;white-space:nowrap" id='siding'>
                  {% for c in post %}
                  <button  class="list-group-item list-group-item-action py-3 lh-sm  " id="{{c.id}}" aria-current="true" onclick='another({{c.id}})'>
                    <div class="d-flex w-100 align-items-center justify-content-between">
                      <strong class="mb-1" style="overflow: hidden;text-overflow: ellipsis;word-break:keep-all;white-space:nowrap;display:block;">{{c.title}}</strong>
                    </div>
                                      <div class='row'>

                                        <div class="col-md-6 " style="overflow: hidden;text-overflow: ellipsis;word-break:keep-all;white-space:nowrap;display:block;text-align:left">
                                          <a style='color:red' name='category'><strong>{{c.category|show_category}}</strong></a>
                                           <a style='margin-left:10px'>{{c.author_name}}</a> 
                                        </div>

                                          <div class ='col-md-4' style=''>
                                            <small class="text-muted" style=''>{{c.pub_date|date}}</small>
                                          </div>

                                            <div class='col-md-2 ' style='font-size:1px'>
                                              {% if c.id not in post_seen%}
                                              <strong style='color:red;display:inline' id='status'>New</strong>
                                              {% else %}
                                                      {% if c.id in post_star %}
                                                      <strong style='color:orange;font-size:100%' id ='star' >Star</strong>
                                                      {% endif %}
                                              {% endif %}
                                            </div>
                                   
                                      </div>
                    </button>
                  {%endfor%}
                </div>
              </div>
              <script>
                var z = document.getElementsByName('category');
                     for (var i =0;i<z.length;i++){
                      if (z[i].innerText=='Post') {z[i].style='color:#4169e1';} //blue
                      else if (z[i].innerText=='FAQ') {z[i].style='color:#006400';} //green
                      else if (z[i].innerText=='Assignment') {z[i].style='color:#f08080';} //red
                      else if (z[i].innerText=='Quiz') {z[i].style='color:#89cff0';} //light blue
                     }
              </script>
        {% comment %} </div> {% endcomment %}
        <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-white" style='background-color:purple;margin:0 auto;width:800px;margin-top:200px'>
          Select a post to see
        </div>
    </main>


  {% comment %} <footer class="mt-auto text-black-50" style="font-size:15px">
    <p>Supported by <a class="text-black">CS201 TA Team</a>. Contact Beilong Tang (<a class="text-black">bt132@duke.edu</a>) if you have problems.</p>
  </footer> {% endcomment %}
</div>


    
  </body>
</html>
