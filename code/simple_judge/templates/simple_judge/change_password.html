<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Beilong Tang">
    <meta name="generator" content="Hugo 0.98.0">
    <title>CS201 Quiz</title>

    {% comment %} <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/cover/"> {% endcomment %}

    
{% load static %}
    

{% comment %} <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet"> {% endcomment %}
<link rel = "stylesheet" type ="text/css" href = "{% static 'quiz/bootstrap/css/bootstrap.min.css' %}">
<link rel = "stylesheet" type ="text/css" href = "{% static 'quiz/bootstrap/js/bootstrap.bundle.min.js' %}">
<link rel = "stylesheet" type ="text/css" href = "{% static 'simple_judge/cover.css' %}">


<script>
    function check_same(){
        var raw   = document.getElementById('raw_pass');
        var pass1 = document.getElementById('pass1');
        var pass2 = document.getElementById('pass2');
        
        if (raw.value=="" || pass1.value=="" || pass2.value==""){
            alert('You have unfilled passwords');
            return false;
        }

        if (pass1.value != pass2.value){
            alert("The two new passwords are not equal.");
            return false;
        }
        document.pass.submit()
    }

</script>

  </head>
<body class="d-flex h-100 text-center text-black bg-white">
    
<div class="cover-container d-flex w-100 h-100  mx-auto flex-column">
  <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a  class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
        <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
        <span class="fs-4">CS201 Quiz</span>
        </a>

        <ul class="nav nav-pills">
        <li class="nav-item"><a href="{% url 'quiz:account' user_id %}" class="nav-link active" aria-current="page">Back</a></li>
        </ul>
  </header>


    <main class="form-signin w-100 m-auto">
        <div class="bd-example-snippet bd-code-snippet" style="margin-left:20%;margin-right:20%;position:relative;margin-top:40px;"  >
                <div class="bd-example ">
                    <form action="{%url 'simple_judge:change_password' %}" method="post" name="pass">   
                    {% csrf_token %}
                            <table class="table table-borderless" >
                            <tbody>
                                <tr >
                                <th scope="row" >Current Password</th>
                                <td><input type="password" class= "answer" spellcheck=false id="raw_pass" name="raw_pass" placeholder="Current Password" value ="{{raw_pass}}" required></td>
                                </tr>
                                <tr >
                                    <th scope="row" >New Password</th>
                                    <td><input type="password" class= "answer" spellcheck=false id="pass1" name="pass1" placeholder="New Password" value ="{{pass1}}" required></td>
                                </tr>
                                <tr >
                                    <th scope="row" >New Password(again)</th>
                                    <td><input type="password" class= "answer" spellcheck=false id="pass2" name="pass2" placeholder="New Password(again)" value ="{{pass1}}" required></td>
                                </tr>
                            
                            </tbody>
                            </table>
                    </form>
                    <button type="submit" class="btn btn-primary btn-sm" style="margin-top:20px;width:100px;" onclick="check_same()" >Confirm</button>
                </div>
        </div>
    </main>
  
  <footer class="mt-auto text-black-50" style="font-size:15px">
    <p>Supported by <a class="text-black">CS201 TA Team</a>. Contact Beilong Tang (<a class="text-black">bt132@duke.edu</a>) if you have problems.</p>
  </footer>
</div>

</body>
</html>
{% if messages %}
        {% comment %} <div class="messages" style="margin-top:10px;font-size:10px;color:red"> {% endcomment %}
          {% for message in messages %}
          {% if message.tags == 'error' %}
          <script>
                alert('{{message}}')</script>
          {% else %}
          <script>
            alert('{{message}}')</script>
          {% endif %}
          {% endfor %}
        {% comment %} </div> {% endcomment %}
        {% endif %}